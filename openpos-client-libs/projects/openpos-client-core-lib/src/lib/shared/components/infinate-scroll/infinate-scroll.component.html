<cdk-virtual-scroll-viewport
        [itemSize]="itemHeightPx"
        [minBufferPx]="virtualScrollMinBufferPx"
        [maxBufferPx]="virtualScrollMaxBufferPx"
        (scrolledIndexChange)="indexChange()">
  <ul>
    <li *cdkVirtualFor="let item of items$; trackBy: itemTrackByFunction">
      <ng-container *ngTemplateOutlet="itemTemplate; context: item"></ng-container>
    </li>
  </ul>
</cdk-virtual-scroll-viewport>