<mat-card class="return-total-background">
    <div class="return-total-content">
        <div *ngFor="let total of screenData.totals" class="return-total-subtotal">
            <div responsive-class class="primary return-total-subtotal-title">{{total.name}}</div>
            <div responsive-class class="return-total-subtotal-amount">
                <app-currency-text [amountText]="total.amount"></app-currency-text>
            </div>
        </div>
        <div *ngIf="screenData.grandTotal" class="common-border-color return-total-total">
            <div responsive-class class="primary return-total-total-title">{{screenData.grandTotal.name}}
            </div>
            <div responsive-class class="return-total-total-amount">
                <app-currency-text [amountText]="screenData.grandTotal.amount"></app-currency-text>
            </div>
        </div>
    </div>

    <div class="return-total-buttons">
        <button responsive-class mat-button *ngIf="!screenData.readOnly && !screenData.customer && screenData.loyaltyButton"
            (click)="doMenuItemAction(screenData.loyaltyButton)"
            class="common-button-padding common-border-button return-total-loyalty-button text-md">
            <span *ngIf="loyaltyBefore">{{loyaltyBefore}}</span>
            <img [src]="screenData.loyaltyButton.icon | imageUrl" class="return-total-loyalty-button-icon">
            <span *ngIf="loyaltyAfter">{{loyaltyAfter}}</span>
        </button>
        <div *ngIf="screenData.customer" responsive-class class="return-total-customer-label">
            <img *ngIf="screenData.customer.icon" [src]="screenData.customer.icon | imageUrl" class="return-total-loyalty-icon">
            <div *ngIf="screenData.customer.name" class="muted-color">{{screenData.customer.name}}</div>
            <div *ngIf="screenData.customer.label && screenData.customer.id" class="muted-color">{{screenData.customer.label}}: {{screenData.customer.id}}</div>
        </div>
        <button responsive-class mat-button *ngIf="screenData.receiptsButton" (click)="doMenuItemAction(screenData.receiptsButton)"
            class="common-button-padding common-border-button return-total-border-button"
            [disabled]="!screenData.receiptsButton.enabled">
            <span fxFlex="1 1 auto">{{screenData.receiptsButton.title}}</span>
            <app-icon *ngIf="screenData.receiptsButton.icon" [iconName]="screenData.receiptsButton.icon" [iconClass]="'primary'"></app-icon>
        </button>
        <button responsive-class mat-button *ngIf="!screenData.readOnly && screenData.checkoutButton"
            [disabled]="!screenData.items || screenData.items.length == 0"
            (click)="doMenuItemAction(screenData.checkoutButton)"
            class="common-primary-button return-total-border-button">
            {{screenData.checkoutButton.title}}
        </button>
    </div>
</mat-card>